## 2021-09-04

### 3-3. 내외부 연계 모듈 구현

> 연계 모듈 구현 환경 구성 및 개발

**연계 모듈 기능 구현**

* 개발하고자 하는 응용 소프트웨어와 연계 모듈 간의 세부 설계서를 확인하여 일관되고, 정형화된 연계 기능을 구현할 수 있다.
* 연계 모듈 기능 구현은 주로 EAI/ESB 방식과 웹 서비스 방식으로 구분된다.

<br>

> EAI/ESB 방식

**EAI(Enterprise Application Integration) 방식의 개념**

* 기업에서 운영되는 서로 다른 플랫폼 및 애플리케이션들 간의 정보 전달, 연계, 통합을 가능하게 해 주는 솔루션이다.

* EAI를 사용함으로써 각 비즈니스 간 통합 및 연계성을 중대시켜 효율성을 높여 줄 수 있으며 각 시스템 간의 확장성을 높여 줄 수 있다.

  <br>

**ESB(Enterprise Service Bus) 방식의 개념**

* 기업에서 운영되는 서로 다른 플랫폼 및 애플리케이션들 간을 하나의 시스템으로 관리 운영할 수 있도록 서비스 중심의 통합을 지향하는 아키텍처 또는 기술이다.
* ESB는 버스를 중심으로 각각 프로토콜이 호환이 가능하도록 애플리케이션의 통합을 느슨한 결합 상식으로 지원하는 방식이다.

<br>

**EAI/ESB 방식 연계 모듈 환경 구축 절차**

1. 연계 DB 또는 계정 생성
   * 송,수신 시스템에서 각각 DB 구성 및 계정 생성
   * 기존 DB 존재 시 목적에 따라 분리된 연계 사용자 계쩡 생성
2. 연계를 위한 테이블 생성
   * 연계에 필요한 연계 테이블, 로그 테이블, 매핑 테이블, 오류 코드 테이블 등을 생성
3. 연계 응용 프로그램 구현
   - 연계 응용 프로그램 구현 방식으로 트리거를 활용
   - 트리거는 송신 시스템의 운영 DB 테이블과 수신 시스템의 연계 테이블을 대상으로 구현하고 테이블 단위로 구현

<br>

> 웹 서비스 방식

**웹 서비스(Web Service) 방식의 개념**

네트워크에 분산된 정보를 서비스 형태로 개방하여 표준화된 방식으로 공유하는 기술로써 서비스 지향 아키텍처 개념을 실현하는 대표적인 기술

<br>

**웹 서비스 방식의 개념**

* SOAP(Simple Object Access Protocol)
  * HTTP, HTTPS, SMTP 등을 사용하여 XML 기반의 메시지를 네트워크 상태에서 교환하는 프로토콜
  * HTTP 프로토콜 상에 SOAP Envelope, 헤더(Header), 바디(Body) 등이 추가된 XML 문서로 기본적인 송, 수신은 HTTP로 수행
* WSDL(Web Service Description Language)
  * 웹 서비스명, 제공 위치, 메시지 포멧, 프로토콜 정보 등 웹 서비스에 대한 상세 정보를 기술한 파일로 XML 형식으로 구현
* UDDI(Universal Description, Discovery and Intergration)
  * 웹 서비스에 대한 정보인 WSDL을 등록하고 검색하기 위한 저장소로 공개적으로 접근, 검색이 가능한 레지스토리
  * 알려진 송,수신 시스템의 통합 구현에서는 서비스의 공개 및 검색과정이 필요 없으므로, UDDI를 구축하지 않음

<br>

**웹 서비스 방식 연계 환경 구축 및 구현 절차**

1. 송, 수신 파일 경로 및 파일명 정의

   * 송,수신 시스템에서 송,수신 연계 파일, 로그 파일 생성 경로와 파일명을 정의하고 디렉터리 생성

2. 송신 연계 공유 응용 프로그램 구현

   * 연계 데이터를 추출하고 송신 파일을 XML 형식으로 생성하는 프로그램 구현
   * 주기적 실행을 위해 운영체제의 크론(Cron) 또는 DBMS의 잡 스케쥴러(Job Scheduler)에 등록

3. 파일 전송

   - HTTP 기반의 SOAP을 사용하여 전송
   - SOAP 대신 REST 프로토콜로 대체 가능

4. 수신 DB 반영 서비스 호출 처리

   * 연계 파일을 수신 위치로 전송 후 파일 내용을 수신 DB에 반영하는 서비스 실행
   * 서비스 명세서인 WSDL을 작성 후 송,수신 시스템 간 공유(XML 기반)

5. 수신 연계 응용 프로그램 구현

   - WSDL에 기술된 운영 DB에 연계 데이터를 반영하는 서비스 구현(Java 등 활용)

   - 연계 파일의 데이터를 수신 시스템의 운영 DB에 반영 및 처리 과정을 기록하는 내용으로 구현

<br>

> 연계 테스트 절차

1. 연계 테스트 케이스 작성
   1. 단위 테스트 케이스
      * 송, 수신 시스템 간 연계 데이터 정상 추출 여부, 데이터 형식 체크, 데이터 표준 준수 여부 등을 테스트할 수 있도록 작성한다.
   2. 통합 테스트 케이스
      - 송,수신 시스템 간에 연계 시나리오를 구성하여 다양한 결과가 나올 수 있도록 테스트 케이스를 작성한다.
2. 연계 테스트 수행
   - 연계 테스트 케이스의 시험 항목 및 처리 절차대로 실제 연계 응용 프로그램을 실행하며 테스트하고 결과를 확인
   - 송신용 연계 응용 프로그램과 수신용 연계 응용 프로그램 각각 단위 테스트를 수행
3. 연계 테스트 수행 결과 검증
   - 연계 테스트 수행 시 동작 단계별 오류 여부를 체크하여, 오류 발생 시 정확한 분석을 통해 해당하는 부분에 대한 오류 수정을 한다.
   - 송수신 연계 테이블을 통한 트랜잭션이 실패했을 경우에는 프로세스 구간별로 예외 처리 방안을 고려한다.