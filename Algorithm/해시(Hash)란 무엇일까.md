## 해시(Hash)란 무엇일까?

---

### 해시(Hash)

해시는 임의의 크기를 가진 데이터를 고정된 데이터의 크기로 변환 시키는 것을 말한다.

해시는 키(key)에 산술적인 연산을 적용하여 항목이 저장되어 있는 테이블의 주소를 계산하여 항목에 접근한다. 즉 어떤 항목의 키만을 가지고 바로 항목이 들어 있는 배열의 인덱스를 결정하는 기법이다.

해시는 평균 O(1)의 시간 안에 탐색을 끝마칠 수 있다. 



### 해시 함수(Hash Function)

해시 함수(Hash Function)란 키를 입력으로 받아 해시 주소(Hash Address)를 생성하고 이 해시 주소를 해시 테이블(Hash Table)의 인덱스로 사용한다. 즉, key 값을 계산하는 함수를 해시 함수라고 한다. 키 값을 해시 테이블의 주소로 변환하는 해시 함수가 잘 설계되어야만 탐색의 효율이 중대될 수 있다.

좋은 해시 함수의 조건은 다음 3가지 이다.

1. 충돌이 적어야 한다.
2. 해시 함수 값이 해시 테이블의 주소 영역 내에서 고르게 분포되어야 한다.
3. 계산이 빨라야 한다.



해시 함수는 나머지 연산자(mod)를 사용하여 키를 해시 테이블의 크기로 나눈 나머지를 해시 주소로 사용하는 제산 함수, 키가 해시 테이블의 크기보다 더 큰 정수일 경우에 사용되는 폴딩 함수, 키를 제곱한 다음, 중간의 몇 비트를 취해서 해시 주소를 생성하는 중간 제곱 함수 등이 있다.



### 해시 테이블(Hash Table)

해시 테이블(Hash Table)은 키에 대한 연산에 의해 직접 접근이 가능한 구조이다.

해시 함수의 입력으로 해시 함수 h는 모든 키에 대하여 0부터 배열의 크기 - 1 사이의 값을 제공해야 한다. 

이 경우 k값이 h(k)로 해쉬되었다고 하며, h(k)는 k의 해시 값이라고 한다.



### 충돌(Collision)

대부분의 경우 해시 테이블의 버킷 수는 모든 키의 경우의 수보다 매우 작으므로 여러 개의 서로 다른 키가 해시 함수에 의해 같은 해시 주소로 매핑(mapping) 되는 경우가 자주 발생한다. 서로 다른 두 개의 키 k1과 k2에 대하여 h(k1) = h(k2)인 경우를 충돌이라고 하며, 이러한 키 k1과 k2를 동의어(synonym)라고 한다. 

즉, 충돌이란 서로 다른 키를 갖는 항목들이 같은 해시 주소를 가지는 현상이다.

만약 충돌이 발생하면 같은 버킷에 있는 다른 슬롯에 항목을 저장하게 된다. 충돌이 자주 발생하면 버킷 내부에서의 순차 탐색 시간이 길어져서 탐색 성능이 저하될 수 있으므로 해시 함수를 수정하거나 해시 테이블의 크기를 적절히 조절해 주어야한다.

해결책으로는 해시 테이블의 하나의 위치가 여러 개의 항목을 저장할 수 있도록 해시 테이블의 구조를 변경하는 체이닝(chaining)이 있다.



[참고](https://hsp1116.tistory.com/35)