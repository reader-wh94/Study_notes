## 분할 메모리 할당 - 페이징(Paging)

> 페이징

* 페이징(paging)은 프로세스의 주소 공간을 페이지(page)로 불리는 고정 크기로 나누고 물리 메모리 역시 프레임(frame)이라고 불리는 페이지의 크기의 블록들로 분할하여, 프로세스의 각 페이지를 물리 메모리 상의 임의의 빈 프레임에 할당하는 메모리 관리 기법이다.
* 페이징은 메모리를 고정 크기의 페이지로 분할한다.
* CPU에 의존적이지 않기 때문에 쉽게 구현 가능하며, 시스템에 따라 페이지 크기를 설정할 수 있어 융통성이 높고, 세그먼테이션보다 메모리 활용의 측면에서 훨씬 우수하다.

![paging1](https://user-images.githubusercontent.com/68210266/156863742-221ce449-a096-4297-8387-e90780e35062.PNG)

<br>

> 단편화

* 외부 단편화가 아니라 내부 단편화가 발생한다.
* 내부 단편화는 프로세스의 코드, 데이터, 힙이 페이지 구분 없이 연속되어 있는 경우 마지막 페이지에만 생긴다.

<br>

> 페이징 구현 - 1. 하드웨어 지원

* 페이지 테이블은 프로세스마다 하나씩 메모리에 존재한다.
* 따라서 CPU 내에서 현재 실행 중인 프로세스의 페이지 테이블 메모리의 주소를 가진 레지스터가 필요하다.

<br>

> 페이징 구현 - 2. 운영체제 지원

* 운영체제는 메모리 프레임을 동적으로 할당/반환하는 기능과 이에 따라 페이지 테이블을관리하는 기능을 구현하여야 한다.

<br>

> 문제점

* 메모리 액세스 시 2번의 물리 메모리를 액세스 한다.
  * 메모리 액세스 = 1번 페이지 테이블 액세스 + 1번 데이터 액세스
  * 해결 방법 : TLB 사용
* 페이지 테이블의 메모리 낭비
  * 해결 방법: 역 페이지 테이블, 멀티레벨 페이지 테이블