## 3. Aspect Oriented Programming (AOP)

----

### 1. Aspect Oriented Programming (AOP) 이란?

AOP는 Aspect Oriented Programming의 약자로 관점 지향 프로그래밍이라고 한다. 이는 횡단 관심사(Cross-cutting concern)의 분리를 허용함으로써 모듈성을 증가시키는 것이 목적인 프로그래밍 패러다임이다. 코드 그 자체를 수정하지 않는 대신 기존의 코드에 추가 동작을 추가함으로써 수행한다. 

즉, 어떤 기능을 구현할 때 주요 핵심 기능과 핵심 기능 구현을 위한 부가적인 기능 구현을 분리하여 각각의 관점별로 묶어서 개발하는 방식이다.



![aop1](https://user-images.githubusercontent.com/68210266/152643402-b9273458-fcfb-427c-8692-6342aadf1875.PNG)

왼쪽 그림에서 보면 Module 1,2,3에 여러가지 concern들이 겹쳐 있음을 알 수 있다. 즉, concern들이 각각의 모듈에 특정 부분을 이루고 있다고 이해하면 된다. 이렇게 비즈니스 로직과 로깅 기능이 혼합되면 코드의 복잡성과 상호 의존성이 증가하며 코드의 반복이 포함된다.

하지만 모듈마다 중복되는 코드들을 모듈과 따로 분리하여 aspect로 모듈화 한 것이 오른쪽 그림이다.

이렇게 모듈, 클래스마다 중복되는 코드들을 Aspect로 모듈화하고 비즈니스 로직에서 분리하여 재사용한다는 것이 AOP의 취지이다.



### 2. AOP 용어

* Aspect
  * 흩어진 관심사(Cross-cutting concerns)를 묶어서 모듈화 한 것이다.
  * pointcut과 advice의 조합이다.
* Advice
  * Target에 종속되지 않고 순수하게 부가 기능만 실제로 구현된 부분이다.
  * 어떤 일을 해야하는 지에 대한 정보를 가지고 있다.
* Target
  * 모듈화된 Aspect을 수행해줘야 하는 주요 비지니스 클래스, 메서드 등을 의미한다.
* Join point
  * Advice가 적용될 위치, 끼어들 수 있는 지점이다.
  * ex) 생성자 호출 직전, 생성자 호출 시, 필드에 접근하기 전..
* PointCut
  * 부가기능을 수행할 지점(Advice)에 대한 스펙 정의서
* Advisor: PointCut + Advice (스프링 AOP에서 사용)



### 3. 스프링 AOP 동작



출처: [관점 지향 프로그래밍](https://ko.wikipedia.org/wiki/%EA%B4%80%EC%A0%90_%EC%A7%80%ED%96%A5_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D), [Spring AOP 기초](https://velog.io/@dusdn2424/%EC%8A%A4%ED%94%84%EB%A7%81-%EC%8A%A4%ED%94%84%EB%A7%81-AOP-%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC), [AOP 총정리](https://yadon079.github.io/2021/spring/spring-aop-core)

